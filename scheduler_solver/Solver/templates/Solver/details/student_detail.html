{% extends "Solver/base.html" %}

{% block body %}
	{% if user.id == student.id %}
	<a class="btn btn-outline-warning" href="{% url 'update' student.id %}" role="button">
		<img src="https://img.icons8.com/ios/50/000000/edit--v1.png"/>
	</a>
	<a class="btn btn-outline-warning" href="{% url 'load_new_demands' %}" role="button">
		<img src="https://img.icons8.com/wired/50/000000/add--v1.png"/>
	</a>
	{% endif %}

	<h3 class="mt-4">{{ student.user.first_name }} {{ student.user.last_name }}, {{ student.field }}</h3>
	<h1>{{ student.user }}</h1>
    <hr>
	<h3>Demands</h3>
		<table class="table table-striped table-hover">
    	<thead>
    	  <tr>
    	    <th>Term</th>
			
			{% if user.id == student.id %}
			<th>Update<br>demands<br>by form</th>
			<th>Update<br>demands<br>(JSON)</th>
			{% endif %}
    	    
			<th>Download<br>demands<br>(JSON)</th>
			<th>Generate<br>schedule<br>for demands</th>
    	  </tr>
    	</thead>
		<tbody>
			{% for deal in deals %}
			<tr>
				<td><b><a href="{% url 'demands_detail' deal.id %}">{{ deal.term }}</td>
			
				{% if user.id == student.id %}
				<td>
					<a class="btn btn-outline-warning" href="{% url 'valuate' deal.id %}" role="button">
						<img src="https://img.icons8.com/ios/50/000000/update--v1.png" width="50%" height="50%" />
					</a>
				</td>
				<td>
					<a class="btn btn-outline-warning" href="{% url 'load_demands' deal.id %}" role="button">
						<img src="https://img.icons8.com/ios/50/000000/demand--v1.png" width="50%" height="50%" />
					</a>
				</td>
				{% endif %}

				<td>
					<a class="btn btn-outline-warning" href="{% url 'download_demands' deal.id %}" role="button">
						<img src="https://img.icons8.com/ios/50/000000/download--v1.png" width="50%" height="50%" />
					</a>
				</td>
				<td>
					<a class="btn btn-outline-warning" href="{% url 'generate_schedule' deal.id %}" role="button">
						<img src="https://img.icons8.com/ios/50/000000/buy--v1.png" width="50%" height="50%" />
					</a>
				</td>
			</tr>
    		{% endfor %}
		</tbody>
		</table>
{% endblock %}

